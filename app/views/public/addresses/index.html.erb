<div class="container">
    <div class="row">
        <%#= render "layouts/sidebar", genres: @genres %>

        <div class="mainContents col-sm-9 col-sm-push-3 col-md-9 col-md-push-3">
            <h3 class="subtitle">配送先登録/一覧</h3>
            
            <div class="container form-contents">
                <%= form_with model: @address, url: public_addresses_path, local: true do |f| %>
                    <%#= render  "customer/shared/error_messages", resource: @address %>
             
                    <div class="field form-group row">
                        <div class="col-md-12 mb-6">
                        <%= f.label :"郵便番号(ハイフンなし)", class:"form-label" %>
                        <%= f.text_field :postal_code, autofocus: true, autocomplete: "postal_code", class:"form-control", required: true %>
                        </div>
                    </div>
                  
                    <div class="field form-group row">
                        <div class="col-md-12 mb-6">
                        <%= f.label :"住所", class:"form-label" %>
                        <%= f.text_field :address, autofocus: true, autocomplete: "address", class:"form-control", required: true %>
                        </div>
                    </div>
                  
                    <div class="field form-group row">
                        <div class="col-md-12 mb-6">
                        <%= f.label :"宛名", class:"form-label" %>
                        <%= f.text_field :name, autofocus: true, autocomplete: "name", class:"form-control", required: true %>
                        </div>
                    </div>
                
                    <div class="actions">
                        <%= f.submit "新規登録", class:"form-button" %>
                    </div>
                <% end %>
            </div>
           
            <div class="container form-contents">
                <div class="row">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="col-2">郵便番号</th>
                                <th class="col-3">住所</th>
                                <th class="col-2">宛名</th>
                                <th class="col-4"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <% @addresses.each do |address| %>
                                <tr>
                                    <td>〒<%= address.postal_code %></td>
                                    <td><%= address.address %></td>
                                    <td><%= address.name %></td>
                                    <td>
                                        <div class="row">
                                            <div class="actions">
                                                <%= link_to "編集",edit_public_address_path(address),class:"form-button" %>
                                            </div>
                                            <div class="actions">
                                                <%= link_to "削除",public_address_path(address),method: :delete,class:"form-button-alert","data-confirm" => "本当に削除しますか？" %>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            <% end %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>